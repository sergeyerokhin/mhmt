30.01.2010

Ќачинаю добавл€ть хрум.
ѕроблема при добавлении хрума: в мегалзе было начало - сначала байт на выход, потом битовый байт. ƒелалось без проблем.
“еперь: сначал битовое слово, потом байт на выход, потом только остальной поток. –азрыв как бы.
–ешение - сначала загнать байт тот в EMIT_BYTE_ADD, потом он высретс€ как обычно с первым EMIT_BITS_FLUSH самым
первым после начальных битов.

‘икс - было подкручивание actual_len в mhmt-pack.c. “еперь разбиратьс€ с этим должны конечные функции.

ƒепакер мегалза начальное значение битстрима берет всегда как 8 бит - правильно ли? Ёто не проблема -
даЄтс€ параметр _FORCE и заданное в функцию кол-во бит игнорируетс€.

¬ depack_outbyte нет проверки на то, что disp выходит за пределы начала уже распакованного файла.
